fix: 对比图上版本曲线避免覆盖重合

## 背景
- 图表按曲线 `displayName` 合并数据；当“最新/上版本”名称相同，会互相覆盖，视觉上表现为两条线重合/消失。

## 变更
- 对比线名称仅在 `dataVersion === 'previous'` 时追加后缀 ` [上版本]`。
- 最新版本名称不追加任何标注，保持用户期望的显示效果。

## 影响
- 同一枪械/子弹/配件在“最新 vs 上版本”同时加入对比时，两条曲线 key 唯一，不再互相覆盖。

## 改动文件
- `frontend/src/pages/DataQuery.js`
- `src/components/data_query/ComparisonList.jsx` - 简化列表显示
- `src/components/data_query/ComparisonList.css` - 优化样式
- `src/components/public/ModificationModal.jsx` - 集成命中率控制
- `src/components/public/ModificationModal.css` - 修复布局和样式
- `src/pages/DataQuery.js` - 实现自动刷新逻辑
- `src/utils/dataProcessor.js` - 集成命中率计算

## 功能验证

✅ 命中率记忆功能正常
✅ 命中率影响 TTK 计算正确
✅ 护甲耐久自动刷新工作正常
✅ 对比列表样式简洁
✅ 弹窗滚动无问题
✅ 模拟数据警告提示正常
✅ API 数据结构统一

## Breaking Changes

无破坏性更改。所有改动向后兼容。

## Next Steps

- [ ] 实现切换护甲时的自动刷新
- [ ] 实现数据完整性检查对话框
- [ ] Phase 3: 前端模拟计算功能
- [ ] Phase 3: PD12 特殊处理逻辑
feat(ttk): 支持查看“上版本”数据并切换展示

变更说明：
- 后端 `/api/ttk/gun-details`：基于 create_at/created_at 的历史记录，按 bullet_name 聚合并计算“最新版本/上版本”（仅当同一子弹数据内容发生变化且时间不同才视为新版本），返回 `previousAllDataPoints` 等字段供前端切换。
- 前端改装弹窗：新增“其他选项”区块（仅在存在上版本数据时显示），提供“显示上版本数据”勾选；切换/变体变更时仅在弹药不可用才清空选择。
- 对比线：保存 dataVersion（latest/previous），刷新/预检查时按该版本取后端对应数据。
- 数据修复：调整 `frontend/src/assets/data/ammos.js` 中 BT +P 稀有度配置。

影响范围：
- backend/routes/ttk.js
- frontend/src/components/public/ModificationModal.jsx
- frontend/src/pages/DataQuery.js
- frontend/src/assets/data/ammos.js
