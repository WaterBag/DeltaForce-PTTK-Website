const pistol = ['93R', '.357左轮', 'G17', 'G18', 'M1911', 'QSZ92G', '沙漠之鹰'];
const shotgun = ['725双管', 'S12K', 'M1014', 'M870'];
const sniper = ['AWM', 'SR-25', 'M700', 'SVD', 'PSG-1', 'G3', 'PTR-32', 'SV-98', 'R93', 'SR9'];
const general = [
  'M250',
  'M7',
  'K437',
  'KC17',
  'K416',
  'MP7',
  'MK4',
  'Vector',
  'SR-25',
  'MK47',
  'M4A1',
  'AUG',
  'P90',
  'M249',
  'M14',
  'PKM',
  'QJB201',
  'QCQ171',
  'SR-3M',
  'AK-12',
  'SCAR-H',
  '腾龙',
  'AKM',
  'M700',
  'PSG-1',
  'SVD',
  'SG552',
  'G3',
  'QBZ95-1',
  'MP5',
  'PTR-32',
  'SMG-45',
  '勇士',
  'R93',
  'SV-98',
  'Mini-14',
  'SKS',
  'CAR-15',
  'M16A4',
  '野牛',
  'AKS-74U',
  'UZI',
  'SR9',
];
const russia = ['PKM', 'SR-3M', 'AK-12', 'AKM', 'KC17', 'SKS', 'AKS-74U', 'MK47'];
const smg = ['MK4','MP7', 'Vector', 'P90', 'SR-3M', 'QCQ171', 'MP5', 'SMG-45', '勇士', '野牛', 'UZI'];

// 变体武器映射: 变体武器名 -> { base: 原版武器, excludeTypes: [不能使用的配件类型] }
const variantWeapons = {
  'AKM-性能枪管组合': { base: 'AKM', excludeTypes: ['枪管', '前握把'] },
  'CAR-15-AR特勤一体消音组合': { base: 'CAR-15', excludeTypes: ['枪管', '枪口'] },
  'M16A4-AR特勤一体消音组合': { base: 'M16A4', excludeTypes: ['枪管', '枪口'] },
  'M4A1-AR特勤一体消音组合': { base: 'M4A1', excludeTypes: ['枪管', '枪口'] },
  'ASh-12-战斧重型枪管': { base: 'ASh-12', excludeTypes: ['枪管'] },
  'M250-钛金长枪管': { base: 'M250', excludeTypes: ['枪管'] },
  'M7-堤风超长枪管': { base: 'M7', excludeTypes: ['枪管'] },
  'MK47-余烬枪管': { base: 'MK47', excludeTypes: ['枪管'] },
  'MK47-鏖战枪管': { base: 'MK47', excludeTypes: ['枪管'] },
  'MK4-深空镀铬枪管': { base: 'MK4', excludeTypes: ['枪管'] },
  'SR-25-短枪管': { base: 'SR-25', excludeTypes: ['枪管'] },
  'Marlin杠杆步枪-犀牛杠杆': { base: 'Marlin杠杆步枪', excludeTypes: ['杠杆'] },
  'Marlin杠杆步枪-蜂鸟杠杆': { base: 'Marlin杠杆步枪', excludeTypes: ['杠杆'] },
};

const baseModifications = [
  {
    id: '725CowboySuppressor',
    name: '725双管霰弹枪牛仔消音器',
    type: ['枪口'],
    appliesTo: ['725双管'],
    effects: {
      rangeModifier: 0,
      fireRateModifier: 0,
      muzzleVelocityModifier: 0,
    },
  },
  {
    id: 'ElitePistolBrake',
    name: '精英手枪制退器',
    type: ['枪口'],
    appliesTo: pistol,
    effects: {
      rangeModifier: 0,
      fireRateModifier: 0,
      muzzleVelocityModifier: 0,
    },
  },
  {
    id: 'PurifierPistolSuppressor',
    name: '净化手枪消音器',
    type: ['枪口'],
    appliesTo: pistol,
    effects: {
      rangeModifier: 0,
      fireRateModifier: 0,
      muzzleVelocityModifier: 0,
    },
  },
  {
    id: 'PracticalPistolFlashHider',
    name: '实用手枪消焰器',
    type: ['枪口'],
    appliesTo: pistol,
    effects: {
      rangeModifier: 0,
      fireRateModifier: 0,
      muzzleVelocityModifier: 0,
    },
  },
  {
    id: 'ResonanceSniperSuppressor',
    name: '共鸣狙击枪消音器',
    type: ['枪口'],
    appliesTo: sniper,
    effects: {
      rangeModifier: 0.3,
      fireRateModifier: 0,
      muzzleVelocityModifier: 0.3,
    },
  },
  {
    id: 'VortexFlashHider',
    name: '漩涡消焰器',
    type: ['枪口'],
    appliesTo: sniper,
    effects: {
      rangeModifier: 0,
      fireRateModifier: 0,
      muzzleVelocityModifier: 0,
    },
  },
  {
    id: 'TitanSuppressor',
    name: '泰坦消音器',
    type: ['枪口'],
    appliesTo: ['AWM', 'ASh-12'],
    effects: {
      rangeModifier: 0,
      fireRateModifier: 0,
      muzzleVelocityModifier: 0,
    },
  },
  {
    id: 'EmberSuppressor',
    name: '余烬消音器',
    type: ['枪口'],
    appliesTo: ['ASh-12'],
    effects: {
      rangeModifier: 0,
      fireRateModifier: 0,
      muzzleVelocityModifier: 0,
    },
  },
  {
    id: 'TitanCompensator',
    name: '泰坦补偿器',
    type: ['枪口'],
    appliesTo: ['ASh-12'],
    effects: {
      rangeModifier: 0,
      fireRateModifier: 0,
      muzzleVelocityModifier: 0,
    },
  },
  {
    id: 'OPSSuppressor',
    name: 'OPS消音器',
    type: ['枪口'],
    appliesTo: ['CAR-15', 'M16A4'],
    effects: {
      rangeModifier: 0,
      fireRateModifier: 0,
      muzzleVelocityModifier: 0,
    },
  },
  {
    id: 'CrowFlashHider',
    name: '鸟笼消焰器',
    type: ['枪口'],
    appliesTo: smg,
    effects: {
      rangeModifier: 0,
      fireRateModifier: 0,
      muzzleVelocityModifier: 0,
    },
  },
  {
    id: 'FFCDualFlowMuzzleBrake',
    name: 'FFC双流制退器',
    type: ['枪口'],
    appliesTo: [
      'M7',
      'K437',
      'MK47',
      'K416',
      'M4A1',
      'AUG',
      'M249',
      '腾龙',
      'SG552',
      'QBZ95-1',
      'Mini-14',
      'CAR-15',
      'M16A4',
    ],
    effects: {
      rangeModifier: 0,
      fireRateModifier: 0,
      muzzleVelocityModifier: 0,
    },
  },
  {
    id: 'AdvancedMultiCaliberSuppressor',
    name: '先进多口径消音器',
    type: ['枪口'],
    appliesTo: general,
    effects: {
      rangeModifier: 0.18,
      fireRateModifier: 0,
      muzzleVelocityModifier: 0.18,
    },
  },
  {
    id: 'FortressHorizontalCompensator',
    name: '堡垒水平补偿器',
    type: ['枪口'],
    appliesTo: general,
    effects: {
      rangeModifier: 0,
      fireRateModifier: 0,
      muzzleVelocityModifier: 0,
    },
  },
  {
    id: 'KindlingSpiralFlashHider',
    name: '薪火螺旋消焰器',
    type: ['枪口'],
    appliesTo: general,
    effects: {
      rangeModifier: 0,
      fireRateModifier: 0,
      muzzleVelocityModifier: 0,
    },
  },
  {
    id: 'M7PracticalSuppressor',
    name: 'M7实用消音器',
    type: ['枪口'],
    appliesTo: general,
    effects: {
      rangeModifier: 0,
      fireRateModifier: 0,
      muzzleVelocityModifier: 0,
    },
  },
  {
    id: 'PoseidonFlashHider',
    name: '海神消焰器',
    type: ['枪口'],
    appliesTo: general,
    effects: {
      rangeModifier: 0,
      fireRateModifier: 0,
      muzzleVelocityModifier: 0,
    },
  },
  {
    id: 'SandstormVerticalCompensator',
    name: '沙暴垂直补偿器',
    type: ['枪口'],
    appliesTo: general,
    effects: {
      rangeModifier: 0,
      fireRateModifier: 0,
      muzzleVelocityModifier: 0,
    },
  },
  {
    id: 'SteelMuzzleBrake',
    name: '钢制膛口制退器',
    type: ['枪口'],
    appliesTo: general,
    effects: {
      rangeModifier: 0,
      fireRateModifier: 0,
      muzzleVelocityModifier: 0,
    },
  },
  {
    id: 'BlazingFireSuppressor',
    name: '炽火抑制器',
    type: ['枪口'],
    appliesTo: general,
    effects: {
      rangeModifier: 0,
      fireRateModifier: 0,
      muzzleVelocityModifier: 0,
    },
  },
  {
    id: 'DeadSilenceSuppressor',
    name: '死寂消音器',
    type: ['枪口'],
    appliesTo: general,
    effects: {
      rangeModifier: 0.24,
      fireRateModifier: -0.13,
      muzzleVelocityModifier: 0.24,
    },
  },
  {
    id: 'PracticalFlashHider',
    name: '实用消焰器',
    type: ['枪口'],
    appliesTo: general,
    effects: {
      rangeModifier: 0,
      fireRateModifier: 0,
      muzzleVelocityModifier: 0,
    },
  },
  {
    id: 'PracticalSuppressor',
    name: '实用消音器',
    type: ['枪口'],
    appliesTo: general,
    effects: {
      rangeModifier: 0,
      fireRateModifier: 0,
      muzzleVelocityModifier: 0,
    },
  },
  {
    id: 'SMGEchoSuppressor',
    name: '冲锋枪回声消音器',
    type: ['枪口'],
    appliesTo: smg,
    effects: {
      rangeModifier: 0.3,
      fireRateModifier: 0,
      muzzleVelocityModifier: 0.3,
    },
  },
  {
    id: 'AKPracticalCompensator',
    name: 'AK实用补偿器',
    type: ['枪口'],
    appliesTo: russia,
    effects: {
      rangeModifier: 0,
      fireRateModifier: 0,
      muzzleVelocityModifier: 0,
    },
  },
  {
    id: 'BellMouthFlashHider',
    name: '喇叭口消焰器',
    type: ['枪口'],
    appliesTo: russia,
    effects: {
      rangeModifier: 0,
      fireRateModifier: 0,
      muzzleVelocityModifier: 0,
    },
  },
  {
    id: 'DTKMuzzleBrake',
    name: 'DTK制退器',
    type: ['枪口'],
    appliesTo: russia,
    effects: {
      rangeModifier: 0,
      fireRateModifier: 0,
      muzzleVelocityModifier: 0,
    },
  },
  {
    id: 'PBSRussianSuppressor',
    name: 'PBS俄式消音器',
    type: ['枪口'],
    appliesTo: russia,
    effects: {
      rangeModifier: 0,
      fireRateModifier: 0,
      muzzleVelocityModifier: 0,
    },
  },
  {
    id: 'AKBraveFireSuppressor',
    name: 'AK勇火消音器',
    type: ['枪口'],
    appliesTo: russia,
    effects: {
      rangeModifier: 0.18,
      fireRateModifier: 0,
      muzzleVelocityModifier: 0.18,
    },
  },
  {
    id: 'ShotgunCannonBrake',
    name: '霰弹枪巨炮制退器',
    type: ['枪口'],
    appliesTo: ['S12K', 'M1014', 'M870'],
    effects: {
      rangeModifier: 0,
      fireRateModifier: 0,
      muzzleVelocityModifier: 0,
    },
  },
  {
    id: 'ShotgunCellCompensator',
    name: '霰弹枪囚笼补偿器',
    type: ['枪口'],
    appliesTo: ['S12K', 'M1014', 'M870'],
    effects: {
      rangeModifier: 0,
      fireRateModifier: 0,
      muzzleVelocityModifier: 0,
    },
  },
  {
    id: 'ShotgunEchoSuppressor',
    name: '霰弹枪回声消音器',
    type: ['枪口'],
    appliesTo: ['S12K', 'M1014', 'M870'],
    effects: {
      rangeModifier: 0,
      fireRateModifier: 0,
      muzzleVelocityModifier: 0,
    },
  },
  {
    id: 'ShotgunPrecisionSuppressor',
    name: '霰弹枪精密消音器',
    type: ['枪口'],
    appliesTo: ['S12K', 'M1014', 'M870'],
    effects: {
      rangeModifier: 0,
      fireRateModifier: 0,
      muzzleVelocityModifier: 0,
    },
  },
  {
    id: 'ShotgunVortexChoke',
    name: '霰弹枪涡流收束器',
    type: ['枪口'],
    appliesTo: ['S12K', 'M1014', 'M870'],
    effects: {
      rangeModifier: 0,
      fireRateModifier: 0,
      muzzleVelocityModifier: 0,
    },
  },
  {
    id: 'PracticalShotgunChoke',
    name: '实用霰弹收束器',
    type: ['枪口'],
    appliesTo: ['S12K', 'M1014', 'M870'],
    effects: {
      rangeModifier: 0,
      fireRateModifier: 0,
      muzzleVelocityModifier: 0,
    },
  },
  {
    id: 'SR3MStealthGoldSuppressor',
    name: 'SR-3M隐金消音器',
    type: ['枪口'],
    appliesTo: ['SR-3M'],
    effects: {
      rangeModifier: 0,
      fireRateModifier: 0,
      muzzleVelocityModifier: 0,
    },
  },
  {
    id: 'RussianSMGPrecisionSuppressor',
    name: '俄系冲锋枪精密消音器',
    type: ['枪口'],
    appliesTo: ['SR-3M', '勇士', '野牛'],
    effects: {
      rangeModifier: 0.18,
      fireRateModifier: 0,
      muzzleVelocityModifier: 0.18,
    },
  },
  {
    id: 'WhisperTacticalSuppressor',
    name: '轻语战术消音器',
    type: ['枪口'],
    appliesTo: general,
    effects: {
      rangeModifier: 0.18,
      fireRateModifier: 0,
      muzzleVelocityModifier: 0.18,
    },
  },
  {
    id: 'TitaniumCompetitionBrake',
    name: '钛金竞赛制退器',
    type: ['枪口'],
    appliesTo: general,
    effects: {
      rangeModifier: 0,
      fireRateModifier: 0,
      muzzleVelocityModifier: 0,
    },
  },

  {
    id: '357RevolverWindrunnerLongBarrel',
    name: '.357左轮逐风者长枪管',
    type: ['枪管'],
    appliesTo: ['.357左轮'],
    effects: {
      rangeModifier: 1,
      fireRateModifier: 0,
      muzzleVelocityModifier: 1,
    },
  },
  {
    id: '357RevolverWindrunnerBarrel',
    name: '.357左轮逐风者枪管',
    type: ['枪管'],
    appliesTo: ['.357左轮'],
    effects: {
      rangeModifier: 0.37,
      fireRateModifier: 0,
      muzzleVelocityModifier: 0,
    },
  },
  {
    id: '357RevolverLongBarrel',
    name: '.357口径左轮长枪管',
    type: ['枪管'],
    appliesTo: ['.357左轮'],
    effects: {
      rangeModifier: 0.17,
      fireRateModifier: 0,
      muzzleVelocityModifier: 0.17,
    },
  },
  {
    id: 'RevolverPracticalShortBarrel',
    name: '左轮实用短管',
    type: ['枪管'],
    appliesTo: ['.357左轮'],
    effects: {
      rangeModifier: 0,
      fireRateModifier: 0,
      muzzleVelocityModifier: 0,
    },
  },
  {
    id: 'RevolverPracticalLongBarrel',
    name: '左轮实用长管',
    type: ['枪管'],
    appliesTo: ['.357左轮'],
    effects: {
      rangeModifier: 0.06,
      fireRateModifier: 0,
      muzzleVelocityModifier: 0.06,
    },
  },
  {
    id: '725FalconLongBarrel',
    name: '725双管霰弹枪鹰隼长枪管',
    type: ['枪管'],
    appliesTo: ['725'],
    effects: {
      rangeModifier: 0.3,
      fireRateModifier: 0,
      muzzleVelocityModifier: 0.3,
    },
  },
  {
    id: '725InterceptorSawedOffBarrel',
    name: '725双管霰弹枪拦截者截短枪管',
    type: ['枪管'],
    appliesTo: ['725'],
    effects: {
      rangeModifier: -0.18,
      fireRateModifier: 0,
      muzzleVelocityModifier: -0.18,
    },
  },
  {
    id: '93RLongshotSuperLongBarrel',
    name: '93R远射超长枪管',
    type: ['枪管'],
    appliesTo: ['93R'],
    effects: {
      rangeModifier: 0.3,
      fireRateModifier: 0,
      muzzleVelocityModifier: 0.3,
    },
  },
  {
    id: '93RTacticalBarrel',
    name: '93R战术枪管',
    type: ['枪管'],
    appliesTo: ['93R'],
    effects: {
      rangeModifier: 0,
      fireRateModifier: 0,
      muzzleVelocityModifier: 0,
    },
  },
  {
    id: '93RPracticalLongBarrel',
    name: '93R实用长枪管',
    type: ['枪管'],
    appliesTo: ['93R'],
    effects: {
      rangeModifier: 0.18,
      fireRateModifier: 0,
      muzzleVelocityModifier: 0.18,
    },
  },
  {
    id: '93RPracticalLightBarrel',
    name: '93R实用轻枪管',
    type: ['枪管'],
    appliesTo: ['93R'],
    effects: {
      rangeModifier: 0,
      fireRateModifier: 0,
      muzzleVelocityModifier: 0,
    },
  },
  {
    id: '93RPracticalHeavyBarrel',
    name: '93R实用重枪管',
    type: ['枪管'],
    appliesTo: ['93R'],
    effects: {
      rangeModifier: 0.06,
      fireRateModifier: 0,
      muzzleVelocityModifier: 0.06,
    },
  },
  {
    id: 'AK12EliteBipodLongBarrel',
    name: 'AK12精英脚架长枪管',
    type: ['枪管'],
    appliesTo: ['AK12'],
    effects: {
      rangeModifier: 0.3,
      fireRateModifier: 0,
      muzzleVelocityModifier: 0.3,
    },
  },
  {
    id: 'AK12FrontlineLongBarrel',
    name: 'AK12前线长枪管',
    type: ['枪管'],
    appliesTo: ['AK12'],
    effects: {
      rangeModifier: 0,
      fireRateModifier: 0,
      muzzleVelocityModifier: 0,
    },
  },
  {
    id: 'AKMPerformanceBarrel',
    name: 'AKM性能枪管组合',
    type: ['枪管', '前握把'],
    appliesTo: ['AKM'],
    effects: {
      rangeModifier: 0.06,
      fireRateModifier: 0,
      muzzleVelocityModifier: 0.06,
      damageChange: true,
      btkQueryName: 'AKM-性能枪管',
      dataQueryName: 'AKM-性能枪管组合',
    },
  },
  {
    id: 'AKMBeaverLongBarrel',
    name: 'AKM海狸长枪管组合',
    type: ['枪管'],
    appliesTo: ['AKM'],
    effects: {
      rangeModifier: 0.3,
      fireRateModifier: 0,
      muzzleVelocityModifier: 0.3,
    },
  },
  {
    id: 'AKMBeaverBarrel',
    name: 'AKM海狸枪管组合',
    type: ['枪管'],
    appliesTo: ['AKM'],
    effects: {
      rangeModifier: 0,
      fireRateModifier: 0,
      muzzleVelocityModifier: 0,
    },
  },
  {
    id: 'AKMTranscendentLongBarrel',
    name: 'AKM超然长枪管组合',
    type: ['枪管'],
    appliesTo: ['AKM'],
    effects: {
      rangeModifier: 0.18,
      fireRateModifier: 0,
      muzzleVelocityModifier: 0.18,
    },
  },
  {
    id: 'AKMPracticalStandardBarrel',
    name: 'AKM实用标准枪管组合',
    type: ['枪管'],
    appliesTo: ['AKM'],
    effects: {
      rangeModifier: 0,
      fireRateModifier: 0,
      muzzleVelocityModifier: 0,
    },
  },
  {
    id: 'AKMPracticalLongBarrel',
    name: 'AKM实用长枪管组合',
    type: ['枪管'],
    appliesTo: ['AKM'],
    effects: {
      rangeModifier: 0.3,
      fireRateModifier: 0,
      muzzleVelocityModifier: 0.3,
    },
  },
  {
    id: 'ARCommandoShortBarrel',
    name: 'AR特攻短枪管组合',
    type: ['枪管'],
    appliesTo: ['CAR-15', 'M16A4', 'M4A1'],
    effects: {
      rangeModifier: 0,
      fireRateModifier: 0,
      muzzleVelocityModifier: 0,
    },
  },
  {
    id: 'ARIntegratedSuppressor',
    name: 'AR特勤一体消音组合',
    type: ['枪管', ['枪口']],
    appliesTo: ['CAR-15', 'M16A4', 'M4A1'],
    effects: {
      rangeModifier: 0.18,
      fireRateModifier: 0,
      muzzleVelocityModifier: 0.18,
      damageChange: true,
      btkQueryName: {
        'M4A1': 'M4A1-AR特勤一体消音组合',
        'M16A4': 'M16A4-AR特勤一体消音组合',
        'CAR-15': 'CAR-15-AR特勤一体消音组合',
      },
      dataQueryName: {
        'M4A1': 'M4A1-AR特勤一体消音组合',
        'M16A4': 'M16A4-AR特勤一体消音组合',
        'CAR-15': 'CAR-15-AR特勤一体消音组合',
      },
    },
  },
  {
    id: 'ARGabrielLongBarrel',
    name: 'AR加百列长枪管组合',
    type: ['枪管'],
    appliesTo: ['CAR-15', 'M16A4', 'M4A1'],
    effects: {
      rangeModifier: 0.3,
      fireRateModifier: 0,
      muzzleVelocityModifier: 0.3,
    },
  },
  {
    id: 'ARTrenchStandardBarrel',
    name: 'AR战壕标准枪管组合',
    type: ['枪管'],
    appliesTo: ['CAR-15', 'M16A4', 'M4A1'],
    effects: {
      rangeModifier: 0.18,
      fireRateModifier: 0,
      muzzleVelocityModifier: 0.18,
    },
  },
  {
    id: 'ARCarbonFiberBarrel',
    name: 'AR碳纤维枪管组合',
    type: ['枪管'],
    appliesTo: ['CAR-15', 'M16A4', 'M4A1'],
    effects: {
      rangeModifier: 0.18,
      fireRateModifier: 0,
      muzzleVelocityModifier: 0.18,
    },
  },
  {
    id: 'ASh12LongBarrel',
    name: 'ASh-12 歼灭高精长枪管',
    type: ['枪管'],
    appliesTo: ['ASh-12'],
    effects: {
      rangeModifier: 0.3,
      fireRateModifier: 0,
      muzzleVelocityModifier: 0.3,
    },
  },
  {
    id: 'ASh12CQBBarrel',
    name: 'ASh-12 CQB短枪管',
    type: ['枪管'],
    appliesTo: ['ASh-12'],
    effects: {
      rangeModifier: 0,
      fireRateModifier: 0,
      muzzleVelocityModifier: 0,
    },
  },
  {
    id: 'ASh12BattleAxeHeavyBarrel',
    name: 'ASh-12战斧重型枪管',
    type: ['枪管'],
    appliesTo: ['ASh-12'],
    effects: {
      rangeModifier: 0,
      fireRateModifier: -0.2,
      muzzleVelocityModifier: 0.47,
      damageChange: true,
      btkQueryName: 'ASh-12-战斧重型枪管',
      dataQueryName: 'ASh-12-战斧重型枪管',
    },
  },
  {
    id: 'AUGIntegratedSuppressor',
    name: 'AUG晨雾一体消音管',
    type: ['枪管', ['枪口']],
    appliesTo: ['AUG'],
    effects: {
      rangeModifier: 0.18,
      fireRateModifier: 0,
      muzzleVelocityModifier: 0.18,
    },
  },
  {
    id: 'AUGEliteBipodLongBarrel',
    name: 'AUG精英脚架长枪管',
    type: ['枪管'],
    appliesTo: ['AUG'],
    effects: {
      rangeModifier: 0.3,
      fireRateModifier: 0,
      muzzleVelocityModifier: 0.3,
    },
  },
  {
    id: 'AUGVanguardStandardBarrel',
    name: 'AUG尖兵标准枪管',
    type: ['枪管'],
    appliesTo: ['AUG'],
    effects: {
      rangeModifier: 0,
      fireRateModifier: 0,
      muzzleVelocityModifier: 0,
    },
  },
  {
    id: 'AUGPracticalIntegrated3xScopeBarrel',
    name: 'AUG实用集成三倍镜枪管',
    type: ['枪管'],
    appliesTo: ['AUG'],
    effects: {
      rangeModifier: 0.05,
      fireRateModifier: 0,
      muzzleVelocityModifier: 0.05,
    },
  },
  {
    id: 'AWMLongBarrel',
    name: 'AWM天际线长枪管',
    type: ['枪管'],
    appliesTo: ['AWM'],
    effects: {
      rangeModifier: 0.3,
      fireRateModifier: 0,
      muzzleVelocityModifier: 0.3,
    },
  },
  {
    id: 'G17TacticalHeavyBarrel',
    name: 'G17战术重枪管',
    type: ['枪管'],
    appliesTo: ['G17'],
    effects: {
      rangeModifier: 0.3,
      fireRateModifier: 0,
      muzzleVelocityModifier: 0.3,
    },
  },
  {
    id: 'G17LightweightBarrel',
    name: 'G17轻量化枪管',
    type: ['枪管'],
    appliesTo: ['G17'],
    effects: {
      rangeModifier: 0,
      fireRateModifier: 0,
      muzzleVelocityModifier: 0,
    },
  },
  {
    id: 'G18ImpactLongBarrel',
    name: 'G18冲击长枪管',
    type: ['枪管'],
    appliesTo: ['G18'],
    effects: {
      rangeModifier: 0.3,
      fireRateModifier: 0,
      muzzleVelocityModifier: 0.3,
    },
  },
  {
    id: 'G3MarksmanBarrel',
    name: 'G3平台神射枪管组合',
    type: ['枪管'],
    appliesTo: ['G3', 'PSG-1', 'PTR-32', 'SR9'],
    effects: {
      rangeModifier: 0.36,
      fireRateModifier: 0,
      muzzleVelocityModifier: 0.36,
    },
  },
  {
    id: 'G3ReinforcedLongBarrel',
    name: 'G3加强长枪管组合',
    type: ['枪管'],
    appliesTo: ['G3', 'PSG-1', 'SR9', 'PTR-32'],
    effects: {
      rangeModifier: 0.3,
      fireRateModifier: 0,
      muzzleVelocityModifier: 0.3,
    },
  },
  {
    id: 'G3HurricaneShortBarrel',
    name: 'G3飓风短枪管组合',
    type: ['枪管'],
    appliesTo: ['G3', 'PSG-1', 'SR9', 'PTR-32'],
    effects: {
      rangeModifier: 0,
      fireRateModifier: 0,
      muzzleVelocityModifier: 0,
    },
  },
  {
    id: 'G3GuardianStandardBarrel',
    name: 'G3守卫标准枪管组合',
    type: ['枪管'],
    appliesTo: ['G3', 'PSG-1', 'SR9', 'PTR-32'],
    effects: {
      rangeModifier: 0.18,
      fireRateModifier: 0,
      muzzleVelocityModifier: 0.18,
    },
  },
  {
    id: 'K416ShortBarrel',
    name: 'K416特勤短枪管组合',
    type: ['枪管'],
    appliesTo: ['K416'],
    effects: {
      rangeModifier: 0,
      fireRateModifier: 0,
      muzzleVelocityModifier: 0,
    },
  },
  {
    id: 'K416A8LongBarrel',
    name: 'K416A8长枪管组合',
    type: ['枪管'],
    appliesTo: ['K416'],
    effects: {
      rangeModifier: 0.3,
      fireRateModifier: 0,
      muzzleVelocityModifier: 0.3,
    },
  },
  {
    id: 'K416A8Barrel',
    name: 'K416A8枪管组合',
    type: ['枪管'],
    appliesTo: ['K416'],
    effects: {
      rangeModifier: 0.18,
      fireRateModifier: 0,
      muzzleVelocityModifier: 0.18,
    },
  },
  {
    id: 'K416EliteHeavyBarrel',
    name: 'K416精英重枪管组合',
    type: ['枪管'],
    appliesTo: ['K416'],
    effects: {
      rangeModifier: 0.06,
      fireRateModifier: 0,
      muzzleVelocityModifier: 0.06,
    },
  },
  {
    id: 'K437IntegratedSuppressorBarrel',
    name: 'K437特攻一体消音枪管',
    type: ['枪管', ['枪口']],
    appliesTo: ['K437'],
    effects: {
      rangeModifier: 0.18,
      fireRateModifier: 0,
      muzzleVelocityModifier: 0.18,
    },
  },
  {
    id: 'K437LongBarrel',
    name: 'K437长矛手长枪管组合',
    type: ['枪管'],
    appliesTo: ['K437'],
    effects: {
      rangeModifier: 0.3,
      fireRateModifier: 0,
      muzzleVelocityModifier: 0.3,
    },
  },
  {
    id: 'K437ShortBarrel',
    name: 'K437断刃短枪管组合',
    type: ['枪管'],
    appliesTo: ['K437'],
    effects: {
      rangeModifier: 0,
      fireRateModifier: 0,
      muzzleVelocityModifier: 0,
    },
  },
  {
    id: 'KC17Suppressor',
    name: 'KC17影舞者消音',
    type: ['枪管', ['枪口']],
    appliesTo: ['KC17'],
    effects: {
      rangeModifier: 0.18,
      fireRateModifier: 0,
      muzzleVelocityModifier: 0.18,
    },
  },
  {
    id: 'KC17DaggerBarrel',
    name: 'KC17短刃枪管',
    type: ['枪管'],
    appliesTo: ['KC17'],
    effects: {
      rangeModifier: 0,
      fireRateModifier: 0,
      muzzleVelocityModifier: 0,
    },
  },
  {
    id: 'KC17LongswordBarrel',
    name: 'KC17长剑枪管',
    type: ['枪管'],
    appliesTo: ['KC17'],
    effects: {
      rangeModifier: 0.3,
      fireRateModifier: 0,
      muzzleVelocityModifier: 0.3,
    },
  },
  {
    id: 'M1014BreakpointBarrel',
    name: 'M1014断点枪管',
    type: ['枪管'],
    appliesTo: ['M1014'],
    effects: {
      rangeModifier: 0,
      fireRateModifier: 0,
      muzzleVelocityModifier: 0,
    },
  },
  {
    id: 'M14InsightSuperLongBarrel',
    name: 'M14洞察超长枪管',
    type: ['枪管'],
    appliesTo: ['M14'],
    effects: {
      rangeModifier: 0.3,
      fireRateModifier: 0,
      muzzleVelocityModifier: 0.3,
    },
  },
  {
    id: 'M14RoverStandardBarrel',
    name: 'M14漫游标准枪管',
    type: ['枪管'],
    appliesTo: ['M14'],
    effects: {
      rangeModifier: 0.18,
      fireRateModifier: 0,
      muzzleVelocityModifier: 0.18,
    },
  },
  {
    id: 'M14WhisperShortBarrel',
    name: 'M14轻语短枪管',
    type: ['枪管'],
    appliesTo: ['M14'],
    effects: {
      rangeModifier: 0,
      fireRateModifier: 0,
      muzzleVelocityModifier: 0,
    },
  },
  {
    id: 'M1911NighthawkTacticalBarrel',
    name: 'M1911夜鹰战术枪管',
    type: ['枪管'],
    appliesTo: ['M1911'],
    effects: {
      rangeModifier: 0.18,
      fireRateModifier: 0,
      muzzleVelocityModifier: 0.18,
    },
  },
  {
    id: 'M249RhinoLongBarrel',
    name: 'M249犀牛长枪管',
    type: ['枪管'],
    appliesTo: ['M249'],
    effects: {
      rangeModifier: 0.3,
      fireRateModifier: 0,
      muzzleVelocityModifier: 0.3,
    },
  },
  {
    id: 'M249GulfShortBarrel',
    name: 'M249海湾短枪管',
    type: ['枪管'],
    appliesTo: ['M249'],
    effects: {
      rangeModifier: 0,
      fireRateModifier: 0,
      muzzleVelocityModifier: 0,
    },
  },
  {
    id: 'M250LongBarrel',
    name: 'M250钛金长枪管',
    type: ['枪管'],
    appliesTo: ['M250'],
    effects: {
      rangeModifier: 0.3,
      fireRateModifier: 0,
      muzzleVelocityModifier: 0.3,
      damageChange: true,
      btkQueryName: 'M250-钛金长枪管',
      dataQueryName: 'M250-钛金长枪管',
    },
  },
  {
    id: 'M250ShortBarrel',
    name: 'M250侍卫短枪管',
    type: ['枪管'],
    appliesTo: ['M250'],
    effects: {
      rangeModifier: 0,
      fireRateModifier: 0,
      muzzleVelocityModifier: 0,
    },
  },
  {
    id: 'M7SuperLongBarrel',
    name: 'M7堤风超长枪管组合',
    type: ['枪管'],
    appliesTo: ['M7'],
    effects: {
      rangeModifier: 0.3,
      fireRateModifier: 0,
      muzzleVelocityModifier: 0.3,
      damageChange: true,
      btkQueryName: 'M7-提丰长枪管',
      dataQueryName: 'M7-堤风超长枪管',
    },
  },
  {
    id: 'M7ShortBarrel',
    name: 'M7灵蜥短枪管',
    type: ['枪管'],
    appliesTo: ['M7'],
    effects: {
      rangeModifier: 0,
      fireRateModifier: 0,
      muzzleVelocityModifier: 0,
    },
  },
  {
    id: 'M7PracticalLongBarrel',
    name: 'M7实用长枪管组合',
    type: ['枪管'],
    appliesTo: ['M7'],
    effects: {
      rangeModifier: 0.18,
      fireRateModifier: 0,
      muzzleVelocityModifier: 0.18,
    },
  },
  {
    id: 'M700IntegratedSuppressor',
    name: 'M700一体消音管',
    type: ['枪管'],
    appliesTo: ['M700'],
    effects: {
      rangeModifier: 0,
      fireRateModifier: 0,
      muzzleVelocityModifier: 0,
    },
  },
  {
    id: 'M700StratosphereLongBarrel',
    name: 'M700平流层长枪管',
    type: ['枪管'],
    appliesTo: ['M700'],
    effects: {
      rangeModifier: 0.3,
      fireRateModifier: 0,
      muzzleVelocityModifier: 0.3,
    },
  },
  {
    id: 'M700PredatorMilSpecBarrel',
    name: 'M700猎食军规枪管',
    type: ['枪管'],
    appliesTo: ['M700'],
    effects: {
      rangeModifier: 0.18,
      fireRateModifier: 0,
      muzzleVelocityModifier: 0.18,
    },
  },
  {
    id: 'M870ExtendedBarrel',
    name: 'M870扩容枪管',
    type: ['枪管'],
    appliesTo: ['M870'],
    effects: {
      rangeModifier: 0.3,
      fireRateModifier: 0,
      muzzleVelocityModifier: 0.3,
    },
  },
  {
    id: 'Mini14ReinforcedBarrel',
    name: 'Mini-14增强枪管',
    type: ['枪管'],
    appliesTo: ['Mini-14'],
    effects: {
      rangeModifier: 0.3,
      fireRateModifier: 0,
      muzzleVelocityModifier: 0.3,
    },
  },
  {
    id: 'MK47AshBarrel',
    name: 'Mk47-余烬枪管',
    type: ['枪管'],
    appliesTo: ['MK47'],
    effects: {
      rangeModifier: 0.3,
      fireRateModifier: 0,
      muzzleVelocityModifier: 0.33,
      damageChange: true,
      btkQueryName: 'MK47-余烬枪管',
      dataQueryName: 'MK47-余烬枪管',
    },
  },
  {
    id: 'MK47WarBarrel',
    name: 'Mk47-鏖战枪管',
    type: ['枪管'],
    appliesTo: ['MK47'],
    effects: {
      rangeModifier: -0.1,
      fireRateModifier: 0,
      muzzleVelocityModifier: 0,
      damageChange: true,
      btkQueryName: 'MK47-鏖战枪管',
      dataQueryName: 'MK47-鏖战枪管',
    },
  },
  {
    id: 'MP5TacticalBarrel',
    name: 'MP5战术枪管组合',
    type: ['枪管'],
    appliesTo: ['MP5'],
    effects: {
      rangeModifier: 0.06,
      fireRateModifier: 0,
      muzzleVelocityModifier: 0.06,
    },
  },
  {
    id: 'MP5PerformanceBarrel',
    name: 'MP5性能枪管组合',
    type: ['枪管'],
    appliesTo: ['MP5'],
    effects: {
      rangeModifier: 0.06,
      fireRateModifier: 0,
      muzzleVelocityModifier: 0.06,
    },
  },
  {
    id: 'MP5ScoutLongBarrel',
    name: 'MP5斥候长枪管组合',
    type: ['枪管'],
    appliesTo: ['MP5'],
    effects: {
      rangeModifier: 0.18,
      fireRateModifier: 0,
      muzzleVelocityModifier: 0.18,
    },
  },
  {
    id: 'MP5ConcealedShortBarrel',
    name: 'MP5隐蔽短枪管组合',
    type: ['枪管'],
    appliesTo: ['MP5'],
    effects: {
      rangeModifier: 0,
      fireRateModifier: 0,
      muzzleVelocityModifier: 0,
    },
  },
  {
    id: 'MP5SDIntegratedSuppressor',
    name: 'MP5SD特勤一体消音枪管',
    type: ['枪管'],
    appliesTo: ['MP5SD'],
    effects: {
      rangeModifier: 0.3,
      fireRateModifier: 0,
      muzzleVelocityModifier: 0.3,
    },
  },
  {
    id: 'MP7LongBarrel',
    name: 'MP7蜂刺长枪管组合',
    type: ['枪管'],
    appliesTo: ['MP7'],
    effects: {
      rangeModifier: 0.3,
      fireRateModifier: 0,
      muzzleVelocityModifier: 0.3,
    },
  },
  {
    id: 'MP7MoonShadowBarrel',
    name: 'MP7月影镀铬枪管组合',
    type: ['枪管'],
    appliesTo: ['MP7'],
    effects: {
      rangeModifier: 0.3,
      fireRateModifier: 0,
      muzzleVelocityModifier: 0.3,
    },
  },
  {
    id: 'MP7LightBarrel',
    name: 'MP7狼牙轻枪管',
    type: ['枪管'],
    appliesTo: ['MP7'],
    effects: {
      rangeModifier: 0,
      fireRateModifier: 0,
      muzzleVelocityModifier: 0,
    },
  },
  {
    id: 'MP7ReinforcedBarrel',
    name: 'MP7增强枪管组合',
    type: ['枪管'],
    appliesTo: ['MP7'],
    effects: {
      rangeModifier: 0.06,
      fireRateModifier: 0,
      muzzleVelocityModifier: 0.06,
    },
  },
  {
    id: 'MK4DeepChromeBarrel',
    name: 'MK4深空镀铬枪管',
    type: ['枪管'],
    appliesTo: ['MK4'],
    effects: {
      rangeModifier: 0,
      fireRateModifier: 0.1,
      muzzleVelocityModifier: 0.21,
      damageChange: true,
      specialRange: true,
      btkQueryName: 'MK4-深空镀铬枪管',
      dataQueryName: 'MK4-深空镀铬枪管',
    },
  },
  {
    id: 'MK4FencerBarrel',
    name: 'MK4击剑手枪管',
    type: ['枪管'],
    appliesTo: ['MK4'],
    effects: {
      rangeModifier: 0.3,
      fireRateModifier: 0,
      muzzleVelocityModifier: 0.3,
    },
  },
  {
    id: 'P90HeavyAssaultLongBarrel',
    name: 'P90重攻长枪管',
    type: ['枪管'],
    appliesTo: ['P90'],
    effects: {
      rangeModifier: 0.3,
      fireRateModifier: 0,
      muzzleVelocityModifier: 0.3,
    },
  },
  {
    id: 'P90CheetahHeavyBarrel',
    name: 'P90猎豹重枪管',
    type: ['枪管'],
    appliesTo: ['P90'],
    effects: {
      rangeModifier: 0,
      fireRateModifier: 0,
      muzzleVelocityModifier: 0,
    },
  },
  {
    id: 'PKMHorizonHeavyBarrel',
    name: 'PKM地平线重枪管',
    type: ['枪管'],
    appliesTo: ['PKM'],
    effects: {
      rangeModifier: 0.3,
      fireRateModifier: 0,
      muzzleVelocityModifier: 0.3,
    },
  },
  {
    id: 'PKMTrenchShortBarrel',
    name: 'PKM壕战短枪管',
    type: ['枪管'],
    appliesTo: ['PKM'],
    effects: {
      rangeModifier: 0,
      fireRateModifier: 0,
      muzzleVelocityModifier: 0,
    },
  },
  {
    id: 'QBZ95-1LongbowBarrel',
    name: 'QBZ95-1长弓枪管组合',
    type: ['枪管'],
    appliesTo: ['QBZ95-1'],
    effects: {
      rangeModifier: 0.3,
      fireRateModifier: 0,
      muzzleVelocityModifier: 0.3,
    },
  },
  {
    id: 'QBZ95-1PracticalShortBarrel',
    name: 'QBZ95-1实用短枪管',
    type: ['枪管'],
    appliesTo: ['QBZ95-1'],
    effects: {
      rangeModifier: 0,
      fireRateModifier: 0,
      muzzleVelocityModifier: 0,
    },
  },
  {
    id: 'QBZ95TacticalBarrel',
    name: 'QBZ95战术枪管',
    type: ['枪管'],
    appliesTo: ['QBZ95-1'],
    effects: {
      rangeModifier: 0.06,
      fireRateModifier: 0,
      muzzleVelocityModifier: 0.06,
    },
  },
  {
    id: 'QJB201SledgehammerTacticalBarrel',
    name: 'QJB201新式重锤战术枪管',
    type: ['枪管'],
    appliesTo: ['QJB201'],
    effects: {
      rangeModifier: 0.3,
      fireRateModifier: 0,
      muzzleVelocityModifier: 0.3,
    },
  },
  {
    id: 'QJB201FangShortBarrel',
    name: 'QJB201新式獠牙短枪管',
    type: ['枪管'],
    appliesTo: ['QJB201'],
    effects: {
      rangeModifier: 0,
      fireRateModifier: 0,
      muzzleVelocityModifier: 0,
      changeTriggerDelay: true,
      triggerDelay: -67,
    },
  },
  {
    id: 'QCQ171IntegratedSuppressorBarrel',
    name: 'QCQ171新式渗透一体消音枪管',
    type: ['枪管'],
    appliesTo: ['QCQ171'],
    effects: {
      rangeModifier: 0.3,
      fireRateModifier: 0,
      muzzleVelocityModifier: 0.3,
    },
  },
  {
    id: 'QCQ171RedTasselTacticalLongBarrel',
    name: 'QCQ171新式红缨战术长枪管',
    type: ['枪管'],
    appliesTo: ['QCQ171'],
    effects: {
      rangeModifier: 0.3,
      fireRateModifier: 0,
      muzzleVelocityModifier: 0.3,
    },
  },
  {
    id: 'QCQ171CunningRabbitShortBarrel',
    name: 'QCQ171新式狡兔短枪管组合',
    type: ['枪管'],
    appliesTo: ['QCQ171'],
    effects: {
      rangeModifier: 0,
      fireRateModifier: 0,
      muzzleVelocityModifier: 0,
    },
  },
  {
    id: 'QSZ92GRattlesnakeTacticalBarrel',
    name: 'QSZ92G响尾蛇战术枪管',
    type: ['枪管'],
    appliesTo: ['QSZ92G'],
    effects: {
      rangeModifier: 0.18,
      fireRateModifier: 0,
      muzzleVelocityModifier: 0.18,
    },
  },
  {
    id: 'R93LightweightShortBarrel',
    name: 'R93轻盈短枪管',
    type: ['枪管'],
    appliesTo: ['R93'],
    effects: {
      rangeModifier: 0,
      fireRateModifier: 0,
      muzzleVelocityModifier: 0,
    },
  },
  {
    id: 'R93FissionLongBarrel',
    name: 'R93裂变长枪管',
    type: ['枪管'],
    appliesTo: ['R93'],
    effects: {
      rangeModifier: 0.3,
      fireRateModifier: 0,
      muzzleVelocityModifier: 0.3,
    },
  },
  {
    id: 'S12KDefenderShortBarrel',
    name: 'S12K防御者短枪管组合',
    type: ['枪管'],
    appliesTo: ['S12K'],
    effects: {
      rangeModifier: 0,
      fireRateModifier: 0,
      muzzleVelocityModifier: 0,
    },
  },
  {
    id: 'S12KBreakerLongBarrel',
    name: 'S12K破阵长枪管组合',
    type: ['枪管'],
    appliesTo: ['S12K'],
    effects: {
      rangeModifier: 0,
      fireRateModifier: 0,
      muzzleVelocityModifier: 0,
    },
  },
  {
    id: 'S12KPracticalLongBarrel',
    name: 'S12K实用长枪管组合',
    type: ['枪管'],
    appliesTo: ['S12K'],
    effects: {
      rangeModifier: 0,
      fireRateModifier: 0,
      muzzleVelocityModifier: 0,
    },
  },
  {
    id: 'S12KPracticalShortBarrel',
    name: 'S12K实用短枪管组合',
    type: ['枪管'],
    appliesTo: ['S12K'],
    effects: {
      rangeModifier: 0,
      fireRateModifier: 0,
      muzzleVelocityModifier: 0,
    },
  },
  {
    id: 'SCARHPracticalStandardBarrel',
    name: 'SCARH实用标准枪管',
    type: ['枪管'],
    appliesTo: ['SCAR-H'],
    effects: {
      rangeModifier: 0.06,
      fireRateModifier: 0,
      muzzleVelocityModifier: 0.06,
    },
  },
  {
    id: 'SCARHBeaverLongBarrel',
    name: 'SCARH海狸长枪管',
    type: ['枪管'],
    appliesTo: ['SCAR-H'],
    effects: {
      rangeModifier: 0.3,
      fireRateModifier: 0,
      muzzleVelocityModifier: 0.3,
    },
  },
  {
    id: 'SCARHZeroShortBarrel',
    name: 'SCARH零式短枪管',
    type: ['枪管'],
    appliesTo: ['SCAR-H'],
    effects: {
      rangeModifier: 0,
      fireRateModifier: 0,
      muzzleVelocityModifier: 0,
    },
  },
  {
    id: 'SG552KnightHeavyBarrel',
    name: 'SG552骑士重枪管',
    type: ['枪管'],
    appliesTo: ['SG552'],
    effects: {
      rangeModifier: 0.18,
      fireRateModifier: 0,
      muzzleVelocityModifier: 0.18,
    },
  },
  {
    id: 'SG552HoundLightBarrel',
    name: 'SG552猎犬轻型枪管',
    type: ['枪管'],
    appliesTo: ['SG552'],
    effects: {
      rangeModifier: 0,
      fireRateModifier: 0,
      muzzleVelocityModifier: 0,
    },
  },
  {
    id: 'SKSSuperLongBarrel',
    name: 'SKS瞬息超长枪管',
    type: ['枪管'],
    appliesTo: ['SKS'],
    effects: {
      rangeModifier: 0.3,
      fireRateModifier: 0,
      muzzleVelocityModifier: 0.3,
    },
  },
  {
    id: 'SKSCutoffStandardBarrel',
    name: 'SKS截断标准枪管',
    type: ['枪管'],
    appliesTo: ['SKS'],
    effects: {
      rangeModifier: 0,
      fireRateModifier: 0,
      muzzleVelocityModifier: 0,
    },
  },
  {
    id: 'SMGLongCrossbowSuperLongBarrel',
    name: 'SMG长弩超长枪管',
    type: ['枪管'],
    appliesTo: ['SMG-45'],
    effects: {
      rangeModifier: 0.3,
      fireRateModifier: 0,
      muzzleVelocityModifier: 0.3,
    },
  },
  {
    id: 'SMG45FissionLongBarrel',
    name: 'SMG45裂变长枪管',
    type: ['枪管'],
    appliesTo: ['SMG-45'],
    effects: {
      rangeModifier: 0.18,
      fireRateModifier: 0,
      muzzleVelocityModifier: 0.18,
    },
  },
  {
    id: 'SMG45BambooRatShortBarrel',
    name: 'SMG45竹鼠短枪管',
    type: ['枪管'],
    appliesTo: ['SMG-45'],
    effects: {
      rangeModifier: 0,
      fireRateModifier: 0,
      muzzleVelocityModifier: 0,
    },
  },
  {
    id: 'SMG45PracticalHeavyBarrel',
    name: 'SMG45实用重枪管',
    type: ['枪管'],
    appliesTo: ['SMG-45'],
    effects: {
      rangeModifier: 0.06,
      fireRateModifier: 0,
      muzzleVelocityModifier: 0.06,
    },
  },
  {
    id: 'SR25LongBarrel',
    name: 'SR25追风长枪管',
    type: ['枪管'],
    appliesTo: ['SR25'],
    effects: {
      rangeModifier: 0.77,
      fireRateModifier: 0,
      muzzleVelocityModifier: 0.636,
    },
  },
  {
    id: 'SR25SuperLongBarrel',
    name: 'SR25新星超长枪管',
    type: ['枪管'],
    appliesTo: ['SR25'],
    effects: {
      rangeModifier: 0.95,
      fireRateModifier: 0,
      muzzleVelocityModifier: 0.363,
    },
  },
  {
    id: 'SR25ShortBarrel',
    name: 'SR25瞬息短枪管',
    type: ['枪管'],
    appliesTo: ['SR25'],
    effects: {
      rangeModifier: 0,
      fireRateModifier: 0.217,
      muzzleVelocityModifier: 0.136,
      damageChange: true,
      specialRange: true,
      dataQueryName: 'SR25-短枪管',
    },
  },
  {
    id: 'SR3MCastSteelTacticalBarrel',
    name: 'SR-3M铸钢战术枪管',
    type: ['枪管'],
    appliesTo: ['SR-3M'],
    effects: {
      rangeModifier: 0.18,
      fireRateModifier: 0,
      muzzleVelocityModifier: 0.18,
    },
  },
  {
    id: 'SV98AgileShortBarrel',
    name: 'SV98灵巧短枪管',
    type: ['枪管'],
    appliesTo: ['SV98'],
    effects: {
      rangeModifier: 0,
      fireRateModifier: 0,
      muzzleVelocityModifier: 0,
    },
  },
  {
    id: 'SV98SublimationSuperLongBarrel',
    name: 'SV98升华超长枪管',
    type: ['枪管'],
    appliesTo: ['SV98'],
    effects: {
      rangeModifier: 0.3,
      fireRateModifier: 0,
      muzzleVelocityModifier: 0.3,
    },
  },
  {
    id: 'SV98DragonLightBarrel',
    name: 'SV98龙萤轻枪管',
    type: ['枪管'],
    appliesTo: ['SV98'],
    effects: {
      rangeModifier: 0.18,
      fireRateModifier: 0,
      muzzleVelocityModifier: 0.18,
    },
  },
  {
    id: 'SVDBlackthornSuperLongBarrel',
    name: 'SVD黑刺超长枪管',
    type: ['枪管'],
    appliesTo: ['SVD'],
    effects: {
      rangeModifier: 0.3,
      fireRateModifier: 0,
      muzzleVelocityModifier: 0.3,
    },
  },
  {
    id: 'SVDPracticalLongBarrel',
    name: 'SVD实用长枪管',
    type: ['枪管'],
    appliesTo: ['SVD'],
    effects: {
      rangeModifier: 0.18,
      fireRateModifier: 0,
      muzzleVelocityModifier: 0.18,
    },
  },
  {
    id: 'UZIAssaultStandardBarrel',
    name: 'UZI突击标准枪管',
    type: ['枪管'],
    appliesTo: ['UZI'],
    effects: {
      rangeModifier: 0,
      fireRateModifier: 0,
      muzzleVelocityModifier: 0,
    },
  },
  {
    id: 'UZIOrdnanceLongBarrel',
    name: 'UZI军需长枪管',
    type: ['枪管'],
    appliesTo: ['UZI'],
    effects: {
      rangeModifier: 0.18,
      fireRateModifier: 0,
      muzzleVelocityModifier: 0.18,
    },
  },
  {
    id: 'UZICompetitionPerformanceLongBarrel',
    name: 'UZI竞赛性能长枪管',
    type: ['枪管'],
    appliesTo: ['UZI'],
    effects: {
      rangeModifier: 0.3,
      fireRateModifier: 0,
      muzzleVelocityModifier: 0.3,
    },
  },
  {
    id: 'VectorHeavyBarrel',
    name: 'Vector堡垒重枪管',
    type: ['枪管'],
    appliesTo: ['Vector'],
    effects: {
      rangeModifier: 0,
      fireRateModifier: 0,
      muzzleVelocityModifier: 0,
    },
  },
  {
    id: 'VectorSuperLongBarrel',
    name: 'Vector长剑超长枪管组合',
    type: ['枪管'],
    appliesTo: ['Vector'],
    effects: {
      rangeModifier: 0.3,
      fireRateModifier: 0,
      muzzleVelocityModifier: 0.3,
    },
  },
  {
    id: 'VectorRailBarrel',
    name: 'Vector导轨枪管组合',
    type: ['枪管'],
    appliesTo: ['Vector'],
    effects: {
      rangeModifier: 0.06,
      fireRateModifier: 0,
      muzzleVelocityModifier: 0.06,
    },
  },
  {
    id: 'VSSBarrel',
    name: 'VSS海啸长枪管组合',
    type: ['枪管'],
    appliesTo: ['VSS', 'AS-Val'],
    effects: {
      rangeModifier: 0.3,
      fireRateModifier: 0,
      muzzleVelocityModifier: 0.3,
    },
  },
  {
    id: 'DesertEagleSightlineLongBarrel',
    name: '沙鹰瞳线长枪管',
    type: ['枪管'],
    appliesTo: ['沙漠之鹰'],
    effects: {
      rangeModifier: 0.3,
      fireRateModifier: 0,
      muzzleVelocityModifier: 0.3,
    },
  },
  {
    id: 'DesertEagleCompetitionBarrel',
    name: '沙鹰竞技枪管',
    type: ['枪管'],
    appliesTo: ['沙漠之鹰'],
    effects: {
      rangeModifier: 0,
      fireRateModifier: 0,
      muzzleVelocityModifier: 0,
    },
  },
  {
    id: 'WarriorBeaverBarrel',
    name: '勇士海狸枪管',
    type: ['枪管'],
    appliesTo: ['勇士'],
    effects: {
      rangeModifier: 0,
      fireRateModifier: 0,
      muzzleVelocityModifier: 0,
    },
  },
  {
    id: 'WarriorTacticalBarrel',
    name: '勇士战术枪管',
    type: ['枪管'],
    appliesTo: ['勇士'],
    effects: {
      rangeModifier: 0.3,
      fireRateModifier: 0,
      muzzleVelocityModifier: 0.3,
    },
  },
  {
    id: 'JiaolongTacticalLongBarrel',
    name: '新式蛟龙战术长枪管',
    type: ['枪管'],
    appliesTo: ['腾龙'],
    effects: {
      rangeModifier: 0.3,
      fireRateModifier: 0,
      muzzleVelocityModifier: 0.3,
    },
  },
  {
    id: 'SnowLeopardShortBarrel',
    name: '新式雪豹短枪管',
    type: ['枪管'],
    appliesTo: ['腾龙'],
    effects: {
      rangeModifier: 0,
      fireRateModifier: 0,
      muzzleVelocityModifier: 0,
    },
  },
  {
    id: 'BizonStrikerStandardBarrel',
    name: '野牛打击者标准枪管',
    type: ['枪管'],
    appliesTo: ['野牛'],
    effects: {
      rangeModifier: 0.18,
      fireRateModifier: 0,
      muzzleVelocityModifier: 0.18,
    },
  },
  {
    id: 'BizonParatrooperShortBarrel',
    name: '野牛伞兵短枪管',
    type: ['枪管'],
    appliesTo: ['野牛'],
    effects: {
      rangeModifier: 0,
      fireRateModifier: 0,
      muzzleVelocityModifier: 0,
    },
  },
  {
    id: 'BizonBladeSuperLongBarrel',
    name: '野牛刀锋超长枪管',
    type: ['枪管'],
    appliesTo: ['野牛'],
    effects: {
      rangeModifier: 0.3,
      fireRateModifier: 0,
      muzzleVelocityModifier: 0.3,
    },
  },
  {
    id: '171HighSpeed',
    name: 'QCQ171新式高速枪机',
    type: ['枪机'],
    appliesTo: ['QCQ171'],
    effects: {
      rangeModifier: 0,
      fireRateModifier: 0.111,
      muzzleVelocityModifier: 0,
    },
  },
  {
    id: '171LowSpeed',
    name: 'QCQ171新式稳固枪机',
    type: ['枪机'],
    appliesTo: ['QCQ171'],
    effects: {
      rangeModifier: 0.35,
      fireRateModifier: -0.09,
      muzzleVelocityModifier: 0,
    },
  },
  {
    id: '201HighSpeed',
    name: 'QJB201新式高速导气箍',
    type: ['导气'],
    appliesTo: ['QJB201'],
    effects: {
      rangeModifier: 0,
      fireRateModifier: 0.112,
      muzzleVelocityModifier: 0,
    },
  },
  {
    id: '201LowSpeed',
    name: 'QJB201新式稳固导气箍',
    type: ['导气'],
    appliesTo: ['QJB201'],
    effects: {
      rangeModifier: 0.35,
      fireRateModifier: -0.09,
      muzzleVelocityModifier: 0,
    },
  },
  {
    id: '191HighSpeed',
    name: '新式腾龙高速导气箍',
    type: ['导气'],
    appliesTo: ['腾龙'],
    effects: {
      rangeModifier: 0,
      fireRateModifier: 0.075,
      muzzleVelocityModifier: 0,
    },
  },
  {
    id: '191LowSpeed',
    name: '新式腾龙稳固导气箍',
    type: ['导气'],
    appliesTo: ['腾龙'],
    effects: {
      rangeModifier: 0,
      fireRateModifier: -0.065,
      muzzleVelocityModifier: 0,
    },
  },
  {
    id: 'MarlinRhinoLever',
    name: 'Marlin犀牛杠杆',
    type: ['杠杆'],
    appliesTo: ['Marlin杠杆步枪'],
    effects: {
      rangeModifier: 0,
      fireRateModifier: -0.25,
      muzzleVelocityModifier: 0,
      damageChange: true,
      specialRange: true,
      btkQueryName: 'Marlin杠杆步枪-犀牛',
      dataQueryName: 'Marlin杠杆步枪-犀牛杠杆',
    },
  },
  {
    id: 'MarlinHummingbirdLever',
    name: 'Marlin蜂鸟杠杆',
    type: ['杠杆'],
    appliesTo: ['Marlin杠杆步枪'],
    effects: {
      rangeModifier: 0,
      fireRateModifier: 1,
      muzzleVelocityModifier: 0,
      damageChange: true,
      btkQueryName: 'Marlin杠杆步枪-蜂鸟',
      dataQueryName: 'Marlin杠杆步枪-蜂鸟杠杆',
    },
  },
];

const oldModifications = [
  {
    id: 'MK47LongBarrel',
    name: 'Mk47-枪管',
    type: ['枪管'],
    appliesTo: ['MK47-S6季中前'],
    effects: {
      rangeModifier: 0.3,
      fireRateModifier: 0,
      muzzleVelocityModifier: 0.3,
      damageChange: true,
      btkQueryName: 'MK47-长枪管-S6季中前',
      dataQueryName: 'MK47-长枪管-S6季中前',
    },
  },
  {
    id: 'M250Barrel',
    name: 'M250长枪管',
    type: ['枪管'],
    appliesTo: ['M250-S6季中前'],
    effects: {
      rangeModifier: 0.3,
      fireRateModifier: 0,
      muzzleVelocityModifier: 0.3,
      damageChange: true,
      btkQueryName: 'M250-钛金长枪管-S6季中前',
      dataQueryName: 'M250-钛金长枪管-S6季中前',
    },
  },
];

// 为变体武器扩展配件兼容性
// 对于每个配件,如果它适用于某个原版武器,则将对应的变体武器也添加到appliesTo中
// 但要排除变体武器已占用的配件类型
function expandModificationsForVariants(mods) {
  return mods.map(mod => {
    const newAppliesTo = [...mod.appliesTo];
    
    // 检查配件类型是否包含多个类型(如 ['枪管', '枪口'])
    const modTypes = mod.type;
    
    // 遍历配件适用的每个原版武器
    mod.appliesTo.forEach(weapon => {
      // 查找所有以这个原版武器为基础的变体武器
      Object.entries(variantWeapons).forEach(([variantName, variantInfo]) => {
        if (variantInfo.base === weapon) {
          // 检查当前配件类型是否与变体武器排除的类型有重叠
          const hasExcludedType = modTypes.some(type => variantInfo.excludeTypes.includes(type));
          
          // 如果配件类型不在排除列表中,则添加变体武器
          if (!hasExcludedType && !newAppliesTo.includes(variantName)) {
            newAppliesTo.push(variantName);
          }
        }
      });
    });
    
    return {
      ...mod,
      appliesTo: newAppliesTo
    };
  });
}

export const modifications = expandModificationsForVariants(baseModifications);
